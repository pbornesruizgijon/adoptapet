<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>AdoptaPet - Detalle</title>
    <link rel="stylesheet" href="/bases.css">
    <link rel="stylesheet" href="/detalle.css">
</head>

<body>
    <h2 th:text="${mascota.nombre}">Nombre</h2>

    <!-- Imagen de la mascota -->
    <img th:src="@{'/img/' + ${mascota.imagen}}" class="detalle-img" alt="Imagen de mascota" />

    <p th:text="${mascota.descripcion}">Descripción</p>
    <p>Edad: <span th:text="${mascota.edad}">0</span></p>
    <p>Raza: <span th:text="${mascota.raza}">-</span></p>
    <p>Sexo: <span th:text="${mascota.sexo}">-</span></p>

    <!-- Estado de adopción -->
    <p th:if="${mascota.adoptada}">
        Adoptado
    </p>
    <form sec:authorize="isAuthenticated()" th:if="${!mascota.adoptada}" action="/adoptar" method="post">
        <input type="hidden" name="id" th:value="${mascota.id}" />
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <button type="submit">¡Adoptar!</button>
    </form>

    <p th:if="${error}" th:text="${error}" style="color:red"></p>
    <p th:if="${mensaje}" th:text="${mensaje}" style="color:green"></p>

    <a href="/lista">Volver a la lista</a>
</body>

</html>